{"version":3,"sources":["webpack:///./src/views/login/index.vue?f66f","webpack:///./src/assets/video/bg09.mp4","webpack:///./src/icons/svg/password.svg","webpack:///./src/icons/svg/eye.svg","webpack:///./src/views/login/index.vue?0100","webpack:///./src/views/login/index.vue","webpack:///./src/api/login.ts","webpack:///./src/views/login/index.vue?d860","webpack:///./src/views/login/index.vue?8a6f","webpack:///./src/icons/svg/user.svg","webpack:///./src/icons/svg/eye-open.svg"],"names":["module","exports","data","class","src","loop","autoplay","muted","ref","model","loginForm","rules","loginRules","auto-complete","label-position","prop","userIcon","sAccountName","placeholder","name","type","tabindex","pwdIcon","key","passwordType","sAccountPwd","handleLogin","showPwd","eyeIcon","eyeOpenIcon","loading","style","url","method","setup","validateUsername","rule","value","callback","Error","validatePassword","length","pwdInputRef","focus","router","loginFormRef","validate","valid","loginParams","act","sProductId","sProductCompanyCode","sLoginIP","res","username","useraccount","bnum","serveritem","apikey","homesnum","loadsnum","push","render","__scopeId"],"mappings":"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","file":"js/login.de679eea.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./index.vue?vue&type=style&index=0&id=7bde1810&lang=scss\"","module.exports = __webpack_public_path__ + \"media/bg09.9f689872.mp4\";","\n            const data = {\"name\":\"password\",\"data\":{\"width\":\"128\",\"height\":\"128\",\"viewBox\":\"0 0 128 128\",\"data\":\"<path pid=\\\"0\\\" d=\\\"M108.8 44.322H89.6v-5.36c0-9.04-3.308-24.163-25.6-24.163-23.145 0-25.6 16.881-25.6 24.162v5.361H19.2v-5.36C19.2 15.281 36.798 0 64 0c27.202 0 44.8 15.281 44.8 38.961v5.361zm-32 39.356c0-5.44-5.763-9.832-12.8-9.832-7.037 0-12.8 4.392-12.8 9.832 0 3.682 2.567 6.808 6.407 8.477v11.205c0 2.718 2.875 4.962 6.4 4.962 3.524 0 6.4-2.244 6.4-4.962V92.155c3.833-1.669 6.393-4.795 6.393-8.477zM128 64v49.201c0 8.158-8.645 14.799-19.2 14.799H19.2C8.651 128 0 121.359 0 113.201V64c0-8.153 8.645-14.799 19.2-14.799h89.6c10.555 0 19.2 6.646 19.2 14.799z\\\"/>\"}}\n        \n                module.exports = data\n                ","\n            const data = {\"name\":\"eye\",\"data\":{\"width\":\"128\",\"height\":\"64\",\"viewBox\":\"0 0 128 64\",\"data\":\"<path pid=\\\"0\\\" d=\\\"M127.072 7.994c1.37-2.208.914-5.152-.914-6.87-2.056-1.717-4.797-1.226-6.396.982-.229.245-25.586 32.382-55.74 32.382-29.24 0-55.74-32.382-55.968-32.627-1.6-1.963-4.57-2.208-6.397-.49C-.17 3.086-.399 6.275 1.2 8.238c.457.736 5.94 7.36 14.62 14.72L4.17 35.96c-1.828 1.963-1.6 5.152.228 6.87.457.98 1.6 1.471 2.742 1.471s2.284-.49 3.198-1.472l12.564-13.983c5.94 4.416 13.021 8.587 20.788 11.53l-4.797 17.418c-.685 2.699.686 5.397 3.198 6.133h1.37c2.057 0 3.884-1.472 4.341-3.68L52.6 42.83c3.655.736 7.538 1.227 11.422 1.227 3.883 0 7.767-.49 11.422-1.227l4.797 17.173c.457 2.208 2.513 3.68 4.34 3.68.457 0 .914 0 1.143-.246 2.513-.736 3.883-3.434 3.198-6.133l-4.797-17.172c7.767-2.944 14.848-7.114 20.788-11.53l12.336 13.738c.913.981 2.056 1.472 3.198 1.472s2.284-.49 3.198-1.472c1.828-1.963 1.828-4.906.228-6.87l-11.65-13.001c9.366-7.36 14.849-14.474 14.849-14.474z\\\"/>\"}}\n        \n                module.exports = data\n                ","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./index.vue?vue&type=style&index=1&id=7bde1810&lang=scss&scoped=true\"","<template>\r\n  <div class=\"login-container\">\r\n    <video\r\n      class=\"login-bg\"\r\n      src=\"../.../../../assets/video/bg09.mp4\"\r\n      loop=\"loop\"\r\n      autoplay=\"autoplay\"\r\n      muted=\"muted\"\r\n    ></video>\r\n    <div class=\"login-wrap\">\r\n      <el-form\r\n        ref=\"loginFormRef\"\r\n        :model=\"loginForm\"\r\n        :rules=\"loginRules\"\r\n        class=\"login-form\"\r\n        auto-complete=\"on\"\r\n        label-position=\"left\"\r\n      >\r\n        <div class=\"title-container\">\r\n          <div class=\"title\">人员定位及落水报警系统</div>\r\n          <div class=\"sub-title\">用户登录</div>\r\n        </div>\r\n\r\n        <el-form-item prop=\"sAccountName\">\r\n          <span class=\"svg-container\">\r\n            <svg-icon :data=\"userIcon\" />\r\n          </span>\r\n          <el-input\r\n            ref=\"username\"\r\n            v-model=\"loginForm.sAccountName\"\r\n            placeholder=\"Username\"\r\n            name=\"username\"\r\n            type=\"text\"\r\n            tabindex=\"1\"\r\n            auto-complete=\"on\"\r\n          />\r\n        </el-form-item>\r\n\r\n        <el-form-item prop=\"sAccountPwd\">\r\n          <span class=\"svg-container\">\r\n            <svg-icon :data=\"pwdIcon\" />\r\n          </span>\r\n          <el-input\r\n            :key=\"passwordType\"\r\n            ref=\"pwdInputRef\"\r\n            v-model=\"loginForm.sAccountPwd\"\r\n            :type=\"passwordType\"\r\n            placeholder=\"Password\"\r\n            name=\"password\"\r\n            tabindex=\"2\"\r\n            auto-complete=\"on\"\r\n            @keyup.enter=\"handleLogin\"\r\n          />\r\n          <span class=\"show-pwd\" @click=\"showPwd\">\r\n            <svg-icon\r\n              :data=\"passwordType === 'password' ? eyeIcon : eyeOpenIcon\"\r\n            />\r\n          </span>\r\n        </el-form-item>\r\n\r\n        <el-button\r\n          :loading=\"loading\"\r\n          type=\"primary\"\r\n          style=\"\r\n            width: 100%;\r\n            margin-bottom: 40px;\r\n            height: 40px;\r\n            font-size: 16px;\r\n            font-family: Source Han Sans CN;\r\n          \"\r\n          @click.prevent=\"handleLogin\"\r\n          >登 录</el-button\r\n        >\r\n      </el-form>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport {\r\n  defineComponent,\r\n  nextTick,\r\n  ref,\r\n  shallowReactive,\r\n  shallowRef\r\n} from \"vue\";\r\nimport userIcon from \"@/icons/svg/user.svg\";\r\nimport pwdIcon from \"@/icons/svg/password.svg\";\r\nimport eyeIcon from \"@/icons/svg/eye.svg\";\r\nimport eyeOpenIcon from \"@/icons/svg/eye-open.svg\";\r\nimport {\r\n  setToken,\r\n  setUsername,\r\n  setUserAccount,\r\n  setBNum,\r\n  setWsArr,\r\n  setHomeSNum,\r\n  setLoadSNum\r\n} from \"@/utils/auth\";\r\nimport { useRouter } from \"vue-router\";\r\nimport apiLogin from \"@/api/login\";\r\nimport { ILoginForm, TPwdType, ILoginData } from \"@/types/login\";\r\nimport { IResponseCommon } from \"@/types\";\r\nimport { customFuncRule } from \"@/utils\";\r\n\r\nexport default defineComponent({\r\n  name: \"Login\",\r\n  setup() {\r\n    const validateUsername = (rule: any, value: string, callback: Function) => {\r\n      if (!value) {\r\n        callback(new Error(\"请输入正确的用户名\"));\r\n      } else {\r\n        callback();\r\n      }\r\n    };\r\n    const validatePassword = (rule: any, value: string, callback: Function) => {\r\n      if (value.length < 1) {\r\n        callback(new Error(\"请输入正确的密码\"));\r\n      } else {\r\n        callback();\r\n      }\r\n    };\r\n\r\n    const loginForm = shallowReactive<ILoginForm>({\r\n      sAccountName: \"zscb\",\r\n      sAccountPwd: \"123\"\r\n    });\r\n\r\n    const loginRules = {\r\n      sAccountName: [customFuncRule(validateUsername)],\r\n      sAccountPwd: [customFuncRule(validatePassword)]\r\n    };\r\n\r\n    const loading = shallowRef<boolean>(false);\r\n    const passwordType = shallowRef<TPwdType>(\"password\");\r\n\r\n    const pwdInputRef = ref();\r\n    function showPwd() {\r\n      passwordType.value = passwordType.value === \"password\" ? \"\" : \"password\";\r\n      nextTick(() => {\r\n        (pwdInputRef.value as HTMLInputElement).focus();\r\n      });\r\n    }\r\n\r\n    const router = useRouter();\r\n\r\n    const loginFormRef = ref();\r\n    function handleLogin() {\r\n      (loginFormRef.value as any).validate(async (valid: boolean) => {\r\n        if (valid) {\r\n          loading.value = true;\r\n          const loginParams = {\r\n            ...loginForm,\r\n            act: \"r8rIyrFWhJ8DLAY8pkV1586427779281\",\r\n            sProductId: \"99999999-9999-9999-9999-999999999999\",\r\n            sProductCompanyCode: \"zscb\",\r\n            sLoginIP: \"192.168.1.1\"\r\n          };\r\n          const res: unknown = await apiLogin(loginParams);\r\n          const { data } = res as IResponseCommon<ILoginData>;\r\n          console.log(\"res\", res);\r\n\r\n          setUsername(data.username);\r\n          setUserAccount(data.useraccount);\r\n          setBNum(data.bnum);\r\n          setWsArr(data.serveritem);\r\n          setToken(data.apikey);\r\n          setHomeSNum(data.homesnum);\r\n          setLoadSNum(data.loadsnum);\r\n          loading.value = false;\r\n          if (process.env.NODE_ENV === \"development\") {\r\n            router.push(\"/\");\r\n          } else {\r\n            router.push(\"/3d\");\r\n          }\r\n        } else {\r\n          console.log(\"error submit!!\");\r\n          return false;\r\n        }\r\n      });\r\n    }\r\n\r\n    return {\r\n      userIcon,\r\n      pwdIcon,\r\n      eyeIcon,\r\n      eyeOpenIcon,\r\n      loginForm,\r\n      loginRules,\r\n      loading,\r\n      passwordType,\r\n      showPwd,\r\n      loginFormRef,\r\n      handleLogin\r\n    };\r\n  }\r\n});\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n/* 修复input 背景不协调 和光标变色 */\r\n/* Detail see https://github.com/PanJiaChen/vue-element-admin/pull/927 */\r\n\r\n$bg: #283443;\r\n$light_gray: #fff;\r\n$cursor: #fff;\r\n\r\n@supports (-webkit-mask: none) and (not (cater-color: $cursor)) {\r\n  .login-container .el-input input {\r\n    color: $cursor;\r\n  }\r\n}\r\n\r\n/* reset element-ui css */\r\n.login-container {\r\n  .el-input {\r\n    display: inline-block;\r\n    height: 40px;\r\n    width: 85%;\r\n\r\n    input {\r\n      background: transparent;\r\n      border: 0px;\r\n      -webkit-appearance: none;\r\n      border-radius: 0px;\r\n      padding: 12px 5px 12px 15px;\r\n      color: $light_gray;\r\n      height: 40px;\r\n      caret-color: $cursor;\r\n\r\n      &:-webkit-autofill {\r\n        box-shadow: 0 0 0px 1000px $bg inset !important;\r\n        -webkit-text-fill-color: $cursor !important;\r\n      }\r\n    }\r\n  }\r\n\r\n  .el-form-item {\r\n    border: 1px solid rgba(61, 210, 255, 0.2);\r\n    background: rgba(8, 29, 79, 0.2);\r\n    border-radius: 3px;\r\n    color: #454545;\r\n  }\r\n  .el-form-item--small.el-form-item {\r\n    margin-bottom: 15px;\r\n  }\r\n}\r\n</style>\r\n\r\n<style lang=\"scss\" scoped>\r\n$bg: #2d3a4b;\r\n$dark_gray: #889aa4;\r\n\r\n.login-container {\r\n  min-height: 100%;\r\n  width: 100%;\r\n  overflow: hidden;\r\n  .login-bg {\r\n    position: absolute;\r\n    width: 100%;\r\n    height: 100%;\r\n    object-fit: fill;\r\n    // background-color: $bg;\r\n    overflow: hidden;\r\n    background-size: 150% 150%;\r\n    filter: blur(3px);\r\n  }\r\n\r\n  .login-wrap {\r\n    position: absolute;\r\n    left: 50%;\r\n    top: 200px;\r\n    transform: translateX(-50%);\r\n    // width: 400px;\r\n    // margin: 200px auto 0;\r\n    padding: 36px;\r\n    padding-bottom: 0;\r\n    overflow: hidden;\r\n    background: rgba(255, 255, 255, 0.1);\r\n    border: 1px solid rgba(57, 221, 252, 0.2);\r\n    border-radius: 20px;\r\n  }\r\n\r\n  .login-form {\r\n    position: relative;\r\n    max-width: 100%;\r\n  }\r\n\r\n  .svg-container {\r\n    padding: 6px 5px 6px 15px;\r\n    color: #3ae1ff;\r\n    vertical-align: middle;\r\n    width: 30px;\r\n    display: inline-block;\r\n  }\r\n\r\n  .title-container {\r\n    position: relative;\r\n    margin: 0 auto;\r\n    font-family: Source Han Sans CN;\r\n    color: #ffffff;\r\n    text-align: center;\r\n\r\n    .title {\r\n      font-size: 24px;\r\n      font-weight: 400;\r\n    }\r\n    .sub-title {\r\n      margin-top: 16px;\r\n      margin-bottom: 40px;\r\n      font-size: 18px;\r\n      font-weight: 300;\r\n    }\r\n  }\r\n\r\n  .show-pwd {\r\n    position: absolute;\r\n    right: 10px;\r\n    top: 7px;\r\n    font-size: 16px;\r\n    color: $dark_gray;\r\n    cursor: pointer;\r\n    user-select: none;\r\n  }\r\n}\r\n</style>\r\n","/*\r\n * @Description:\r\n * @Author: huxianc\r\n * @Date: 2021-01-20 10:39:06\r\n * @LastEditors: huxianc\r\n * @LastEditTime: 2021-01-20 10:45:54\r\n */\r\n\r\nimport http from \"@/utils/http3\";\r\n\r\nexport default function(data: any) {\r\n  return http({\r\n    url: \"/tbs/dologin\",\r\n    method: \"post\",\r\n    data\r\n  });\r\n}\r\n","\r\nimport {\r\n  defineComponent,\r\n  nextTick,\r\n  ref,\r\n  shallowReactive,\r\n  shallowRef\r\n} from \"vue\";\r\nimport userIcon from \"@/icons/svg/user.svg\";\r\nimport pwdIcon from \"@/icons/svg/password.svg\";\r\nimport eyeIcon from \"@/icons/svg/eye.svg\";\r\nimport eyeOpenIcon from \"@/icons/svg/eye-open.svg\";\r\nimport {\r\n  setToken,\r\n  setUsername,\r\n  setUserAccount,\r\n  setBNum,\r\n  setWsArr,\r\n  setHomeSNum,\r\n  setLoadSNum\r\n} from \"@/utils/auth\";\r\nimport { useRouter } from \"vue-router\";\r\nimport apiLogin from \"@/api/login\";\r\nimport { ILoginForm, TPwdType, ILoginData } from \"@/types/login\";\r\nimport { IResponseCommon } from \"@/types\";\r\nimport { customFuncRule } from \"@/utils\";\r\n\r\nexport default defineComponent({\r\n  name: \"Login\",\r\n  setup() {\r\n    const validateUsername = (rule: any, value: string, callback: Function) => {\r\n      if (!value) {\r\n        callback(new Error(\"请输入正确的用户名\"));\r\n      } else {\r\n        callback();\r\n      }\r\n    };\r\n    const validatePassword = (rule: any, value: string, callback: Function) => {\r\n      if (value.length < 1) {\r\n        callback(new Error(\"请输入正确的密码\"));\r\n      } else {\r\n        callback();\r\n      }\r\n    };\r\n\r\n    const loginForm = shallowReactive<ILoginForm>({\r\n      sAccountName: \"zscb\",\r\n      sAccountPwd: \"123\"\r\n    });\r\n\r\n    const loginRules = {\r\n      sAccountName: [customFuncRule(validateUsername)],\r\n      sAccountPwd: [customFuncRule(validatePassword)]\r\n    };\r\n\r\n    const loading = shallowRef<boolean>(false);\r\n    const passwordType = shallowRef<TPwdType>(\"password\");\r\n\r\n    const pwdInputRef = ref();\r\n    function showPwd() {\r\n      passwordType.value = passwordType.value === \"password\" ? \"\" : \"password\";\r\n      nextTick(() => {\r\n        (pwdInputRef.value as HTMLInputElement).focus();\r\n      });\r\n    }\r\n\r\n    const router = useRouter();\r\n\r\n    const loginFormRef = ref();\r\n    function handleLogin() {\r\n      (loginFormRef.value as any).validate(async (valid: boolean) => {\r\n        if (valid) {\r\n          loading.value = true;\r\n          const loginParams = {\r\n            ...loginForm,\r\n            act: \"r8rIyrFWhJ8DLAY8pkV1586427779281\",\r\n            sProductId: \"99999999-9999-9999-9999-999999999999\",\r\n            sProductCompanyCode: \"zscb\",\r\n            sLoginIP: \"192.168.1.1\"\r\n          };\r\n          const res: unknown = await apiLogin(loginParams);\r\n          const { data } = res as IResponseCommon<ILoginData>;\r\n          console.log(\"res\", res);\r\n\r\n          setUsername(data.username);\r\n          setUserAccount(data.useraccount);\r\n          setBNum(data.bnum);\r\n          setWsArr(data.serveritem);\r\n          setToken(data.apikey);\r\n          setHomeSNum(data.homesnum);\r\n          setLoadSNum(data.loadsnum);\r\n          loading.value = false;\r\n          if (process.env.NODE_ENV === \"development\") {\r\n            router.push(\"/\");\r\n          } else {\r\n            router.push(\"/3d\");\r\n          }\r\n        } else {\r\n          console.log(\"error submit!!\");\r\n          return false;\r\n        }\r\n      });\r\n    }\r\n\r\n    return {\r\n      userIcon,\r\n      pwdIcon,\r\n      eyeIcon,\r\n      eyeOpenIcon,\r\n      loginForm,\r\n      loginRules,\r\n      loading,\r\n      passwordType,\r\n      showPwd,\r\n      loginFormRef,\r\n      handleLogin\r\n    };\r\n  }\r\n});\r\n","import { render } from \"./index.vue?vue&type=template&id=7bde1810&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=ts\"\nexport * from \"./index.vue?vue&type=script&lang=ts\"\n\nimport \"./index.vue?vue&type=style&index=0&id=7bde1810&lang=scss\"\nimport \"./index.vue?vue&type=style&index=1&id=7bde1810&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-7bde1810\"\n\nexport default script","\n            const data = {\"name\":\"user\",\"data\":{\"width\":\"130\",\"height\":\"130\",\"viewBox\":\"0 0 130 130\",\"data\":\"<path pid=\\\"0\\\" d=\\\"M63.444 64.996c20.633 0 37.359-14.308 37.359-31.953 0-17.649-16.726-31.952-37.359-31.952-20.631 0-37.36 14.303-37.358 31.952 0 17.645 16.727 31.953 37.359 31.953zM80.57 75.65H49.434c-26.652 0-48.26 18.477-48.26 41.27v2.664c0 9.316 21.608 9.325 48.26 9.325H80.57c26.649 0 48.256-.344 48.256-9.325v-2.663c0-22.794-21.605-41.271-48.256-41.271z\\\" _stroke=\\\"#979797\\\"/>\"}}\n        \n                module.exports = data\n                ","\n            const data = {\"name\":\"eye-open\",\"data\":{\"width\":\"128\",\"height\":\"128\",\"viewBox\":\"0 0 1024 1024\",\"data\":\"<defs/><path pid=\\\"0\\\" d=\\\"M512 128q69.675 0 135.51 21.163t115.498 54.997 93.483 74.837 73.685 82.006 51.67 74.837 32.17 54.827L1024 512q-2.347 4.992-6.315 13.483T998.87 560.17t-31.658 51.669-44.331 59.99-56.832 64.34-69.504 60.16-82.347 51.5-94.848 34.687T512 896q-69.675 0-135.51-21.163t-115.498-54.826-93.483-74.326-73.685-81.493-51.67-74.496-32.17-54.997L0 513.707q2.347-4.992 6.315-13.483t18.816-34.816 31.658-51.84 44.331-60.33 56.832-64.683 69.504-60.331 82.347-51.84 94.848-34.816T512 128.085zm0 85.333q-46.677 0-91.648 12.331t-81.152 31.83-70.656 47.146-59.648 54.485-48.853 57.686-37.675 52.821-26.325 43.99q12.33 21.674 26.325 43.52t37.675 52.351 48.853 57.003 59.648 53.845T339.2 767.02t81.152 31.488T512 810.667t91.648-12.331 81.152-31.659 70.656-46.848 59.648-54.186 48.853-57.344 37.675-52.651T927.957 512q-12.33-21.675-26.325-43.648t-37.675-52.65-48.853-57.345-59.648-54.186-70.656-46.848-81.152-31.659T512 213.334zm0 128q70.656 0 120.661 50.006T682.667 512 632.66 632.661 512 682.667 391.339 632.66 341.333 512t50.006-120.661T512 341.333zm0 85.334q-35.328 0-60.33 25.002T426.666 512t25.002 60.33T512 597.334t60.33-25.002T597.334 512t-25.002-60.33T512 426.666z\\\"/>\"}}\n        \n                module.exports = data\n                "],"sourceRoot":""}